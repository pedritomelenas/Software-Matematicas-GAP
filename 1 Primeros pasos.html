<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Primeros pasos con GAP – Una introducción a GAP</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Una introducción a GAP</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pedritomelenas/Software-Matematicas-GAP"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./1 Primeros pasos.html">Primeros pasos</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1 Primeros pasos.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Primeros pasos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2 Aritmetica entera y modular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aritmética entera y modular</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3 Enteros de Gauss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Enteros de Gauss</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4 Combinatoria.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Combinatoria</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5 Conjuntos relaciones funciones.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conjuntos, relaciones y funciones</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6 Polinomios.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polinomios</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7 Matrices-espacios-vectoriales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Matrices y espacios vectoriales</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8 Visualizacion en jupyter y gap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualización</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9 Creando nuevos objetos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Objetos</span></a>
  </div>
</li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>Hecho con <a href="https://quarto.org/">Quarto</a></p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Primeros pasos con <code>GAP</code></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><code>gap</code> es un entorno de cálculo algebraico discreto. Tiene un núcleo implementado en <code>c</code> y dispone aparte de librerías escritas en su propio lenguaje de programación.</p>
<p>Este lenguaje es de tipo procedural, por lo que aquellas personas que han programado en <code>pascal</code>, <code>c</code>, <code>maple</code>, … no tienen problemas en adaptarse. En la página oficial de <a href="https://www.gap-system.org">gap</a> se puede encontrar abundante información concerniente a instalación en distintas plataformas, tutoriales, manuales, paquetes.</p>
<p>Los paquetes pasan por un proceso de arbitraje similar al de las revistas científicas. Primero son depositados (y accesibles al público en la página oficial) y si se aceptan pasan a ser parte de la distribución. Aún así muchos instaladores incluyen los paquetes depositados.</p>
<p><code>gap</code> ha sido mantenido a lo largo de su historia por varias universidades, y se nutre de las contribuciones que hacen los usuarios en forma de paquetes para fines más específicos.</p>
<section id="la-línea-de-comandos" class="level2">
<h2 class="anchored" data-anchor-id="la-línea-de-comandos">La línea de comandos</h2>
<p><code>gap</code> es un lenguaje interpretado (aunque tiene un compilador). Se pueden hacer operaciones directamente en la línea de comandos o bien se pueden leer ficheros con guiones escritos con un editor de textos.</p>
<p>Normalmente se invoca usando el comando <code>gap</code>, aunque dependiendo del sistema operativo pueden haber distintas alternativas. Una vez iniciado el intérprete aparece una línea de comandos con el siguiente aspecto.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Para la edición de las entradas que queramos evaluar se pueden utilizar las flechas junto con las teclas de inicio y fin. Además existe la posibilidad de usar combinaciones de teclas similares a las de empleadas en un shell de unix (<code>ctr-[b,f,p,n,a,e]</code>). El tabulador sirve para completar comandos a partir del texto que hayamos introducido en ese momento. Así teclear <code>Gcd+TAB</code> da como resultado:</p>
<pre><code>gap&gt; Gcd
    Gcd
    GcdCoeffs
    GcdInt
    GcdOp
    GcdRepresentation
    GcdRepresentationOp
    Gcdex</code></pre>
<p>Para salir de la línea de comandos podemos usar el comando <code>quit;</code>, o bien pulsar <code>ctr-d</code>.</p>
<p>El final de línea no se indica con el retorno de carro, sino con <code>;</code> (para evaluar, se pulsa <code>enter</code>). Esto permite escribir sentencias de varias líneas.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="fl">1</span><span class="op">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="fl">2</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fl">3</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>En <code>jupyter</code> para evaluar hay que pulsar <code>mayúscula+enter</code>.</p>
<div id="cell-3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span><span class="op">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>3</code></pre>
</div>
</div>
<p>La sesión de trabajo se puede almacenar en un fichero para su posterior edición usando el comando <code>LogTo</code>. Con <code>LogTo("pruebas/log");</code> guardamos en el fichero <code>log</code> en la carpeta <code>pruebas</code>. Con <code>LogTo();</code> interrumpimos la grabación.</p>
<p>Podemos leer una secuencia de comandos (guión) con la orden <code>Read</code> (en este ejemplo <code>uno.g</code> contiene sólamente <code>a:=1;</code>).</p>
<div id="cell-6" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"pruebas/uno.g"</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>1</code></pre>
</div>
</div>
<p>Nótese que las barras son de la forma <code>/</code>, incluso en windows.</p>
<p>A la ayuda se accede usando el signo de cierre de interrogación. Por ejmeplo, <code>?LogTo</code> muestra ayuda sobre dicho comando.</p>
<p>Las operaciones de suma y producto dependen de los argumentos que les acompañen. Así pueden representar suma de enteros, o de matrices, o de subespacios vectoriales… El producto puede significar incluso la composición de dos permutaciones, y el elevado (<code>^</code>) la imagen de un punto por una permutación.</p>
<div id="cell-10" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>]<span class="op">+</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>[ 2, 4, 3 ]</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>)<span class="op">*</span>(<span class="fl">2</span><span class="op">,</span><span class="fl">5</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>(1,5,2)</code></pre>
</div>
</div>
<div id="cell-12" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span><span class="op">^</span>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>2</code></pre>
</div>
</div>
<p>Los símbolos <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt; =</code> y <code>&lt;&gt;</code> sirven para denotar igualdad, ser mayor, menor, menor o igual, mayor o igual y distinto, respectivamente.</p>
<div id="cell-14" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span><span class="op">=</span><span class="fl">1</span><span class="op">+</span><span class="fl">1</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>true</code></pre>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">&lt;</span>[<span class="fl">3</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>true</code></pre>
</div>
</div>
<div id="cell-16" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">&gt;</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">3</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>false</code></pre>
</div>
</div>
<div id="cell-17" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span><span class="op">&lt;&gt;</span><span class="fl">1</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>false</code></pre>
</div>
</div>
</section>
<section id="identificadores" class="level1">
<h1>Identificadores</h1>
<p>Si vamos a utilizar un objeto varias veces, podemos por comodidad asignarle un nombre.</p>
<div id="cell-19" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span><span class="fl">2</span><span class="op">^</span><span class="fl">10</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>1024</code></pre>
</div>
</div>
<p>Si queremos inhibir la salida, escribimos un punto y coma extra al final de la asignación.</p>
<div id="cell-21" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span><span class="op">:=</span><span class="va">a</span><span class="op">;;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Podemos visualizar las variables definidas hasta el momento de la siguiente forma.</p>
<div id="cell-23" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">NamesUserGVars</span>()<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Error, Variable: 'NamesUserGVars' must have a value
not in any function at stream:1</code></pre>
</div>
</div>
<p>Las variables en <code>gap</code> no tienen tipo, las características del objeto al que se refieren se guardan en el propio objeto. De hecho, podemos reutilizar una misma variable para denotar distintos tipos de datos.</p>
<div id="cell-25" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span><span class="fl">1</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>1</code></pre>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>(1,2)</code></pre>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>[ 1, 2 ]</code></pre>
</div>
</div>
<p>El identificador <code>last</code> se usa para hacer referencia a la última salida (también existen <code>last2</code> y <code>last3</code>).</p>
<p>En <code>gap</code> se ha establecido el convenio de escribir las variables globales y las utilizadas en las librerías empezando con mayúsculas.</p>
<p>Las funciones también son objetos, y se pueden definir de varias formas. Podemos utilizar un procedimiento clásico.</p>
<div id="cell-30" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">x</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">return</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>function( x ) ... end</code></pre>
</div>
</div>
<div id="cell-31" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span>(<span class="fl">3</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>9</code></pre>
</div>
</div>
<p>Y también podemos usar notación estilo <span class="math inline">\(\lambda\)</span>-cálculo.</p>
<div id="cell-33" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="va">g</span><span class="op">:=</span><span class="va">x</span><span class="op">-&gt;</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="va">g</span>(<span class="fl">3</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>function( x ) ... end</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>9</code></pre>
</div>
</div>
</section>
<section id="listas" class="level1">
<h1>Listas</h1>
<p>Las listas en <code>gap</code> se escriben, como ya hemos visto en algunos ejemplos arriba como una secuencia de elementos delimitada por corchetes. Dichas secuencias no tienen por qué ser homogéneas. Al trabajar con listas tenemos que prestar atención a algunas funciones que son ‘destructivas’, a saber, modifican alguno de los argumentos que se les pasa. Esto se debe en parte a que cuando uno asigna un identificador a una lista, no lo hace al objeto como tal, si no a su posición en la memoria.</p>
<div id="cell-35" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="st">"a"</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<div id="cell-36" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span><span class="op">:=</span><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span>[<span class="fl">2</span>]<span class="op">:=</span><span class="fl">3</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>3</code></pre>
</div>
</div>
<div id="cell-38" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>[ 1, 3 ]</code></pre>
</div>
</div>
<p>Como hemos visto en este ejemplo <code>lista[n]</code> accede al <code>n</code>-ésimo elemento de la lista (empezando por 1; en otros lenguajes la primera posición es la correspondiente al índice 0).</p>
<p>Podemos usar el comando <code>ShallowCopy</code> para hacer una copia de una lista, creando un objeto nuevo.</p>
<div id="cell-41" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="st">"a"</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<div id="cell-42" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span><span class="op">:=</span><span class="bu">ShallowCopy</span>(<span class="va">a</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<div id="cell-43" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span>[<span class="fl">2</span>]<span class="op">:=</span><span class="fl">3</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>3</code></pre>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>[ 1, 3 ]</code></pre>
</div>
</div>
<div id="cell-45" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<p>Hay multitud de formas para definir y modificar listas, ponemos unos ejemplos a continuación.</p>
<div id="cell-47" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="st">"a"</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>[ 1, "a" ]</code></pre>
</div>
</div>
<p>Para añadirle a <code>a</code> los elementos de otra lista, podemos usar <code>Append</code>:</p>
<div id="cell-49" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Append</span>(<span class="va">a</span><span class="op">,</span>[<span class="fl">2</span><span class="op">,</span><span class="fl">3</span>])<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-50" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>[ 1, "a", 2, 3 ]</code></pre>
</div>
</div>
<p>Si lo que queremos es añadir un elemento al final, usamos <code>Add</code>.</p>
<div id="cell-52" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Add</span>(<span class="va">a</span><span class="op">,</span><span class="fl">5</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-53" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>[ 1, "a", 2, 3, 5 ]</code></pre>
</div>
</div>
<p><code>Concatenation</code> devuelve una lista nueva a partir de dos dadas, concatenándolas y sin modificarlas.</p>
<div id="cell-55" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Concatenation</span>(<span class="va">a</span><span class="op">,</span>[<span class="fl">8</span><span class="op">,</span><span class="fl">9</span>])<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>[ 1, "a", 2, 3, 5, 8, 9 ]</code></pre>
</div>
</div>
<div id="cell-56" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>[ 1, "a", 2, 3, 5 ]</code></pre>
</div>
</div>
<p><code>Filtered</code> lo podemos usar para filtrar los elementos de una lista que cumplan una condición.</p>
<div id="cell-58" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span><span class="bu">Filtered</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">100</span>]<span class="op">,</span><span class="bu">IsPrime</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>[ 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97 ]</code></pre>
</div>
</div>
<p>También podemos aplicar una función a todos los elementos de una lista.</p>
<div id="cell-60" class="cell" data-scrolled="true" data-execution_count="42">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span>(<span class="va">l</span><span class="op">,</span><span class="va">x</span><span class="op">-&gt;</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>[ 4, 9, 25, 49, 121, 169, 289, 361, 529, 841, 961, 1369, 1681, 1849, 2209, 2809, 3481, 3721, 4489, 5041, 5329, 6241, 6889, 7921, 9409 ]</code></pre>
</div>
</div>
<p>A veces es conveniente usar conjuntos en vez de listas, pues sus elementos se ordenan (si son comparables entre sí) y la pertenencia de un elemento es más rápida de resolver.</p>
<div id="cell-62" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>[ 1, 2, 1, 2 ]</code></pre>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Set</span>(<span class="va">a</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>[ 1, 2 ]</code></pre>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>[ 1, 2, 1, 2 ]</code></pre>
</div>
</div>
<div id="cell-65" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fl">3</span> <span class="ex">in</span> <span class="va">a</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>false</code></pre>
</div>
</div>
<p>Hay ciertos comandos que dan como salida un conjunto.</p>
<div id="cell-67" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>[ 1, 2 ]</code></pre>
</div>
</div>
<div id="cell-68" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="va">b</span><span class="op">:=</span>[<span class="fl">2</span><span class="op">,</span><span class="fl">3</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>[ 2, 3 ]</code></pre>
</div>
</div>
<div id="cell-69" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="va">u</span><span class="op">:=</span><span class="bu">Union</span>(<span class="va">a</span><span class="op">,</span><span class="va">b</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>[ 1, 2, 3 ]</code></pre>
</div>
</div>
<div id="cell-70" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="bu">IsSet</span>(<span class="va">u</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>true</code></pre>
</div>
</div>
<div id="cell-71" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Intersection</span>(<span class="va">a</span><span class="op">,</span><span class="va">b</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>[ 2 ]</code></pre>
</div>
</div>
<section id="rangos" class="level3">
<h3 class="anchored" data-anchor-id="rangos">Rangos</h3>
<p>El uso de <code>..</code> se puede usar de varias formas, y captura la idea de rango.</p>
<div id="cell-73" class="cell" data-scrolled="true" data-execution_count="52">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span>[<span class="fl">1</span><span class="op">..</span><span class="fl">20</span>]<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20 ]</code></pre>
</div>
</div>
<div id="cell-74" class="cell" data-scrolled="true" data-execution_count="53">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="va">l</span>{[<span class="fl">3</span><span class="op">,</span><span class="fl">5</span><span class="op">..</span><span class="fl">9</span>]}<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>[ 3, 5, 7, 9 ]</code></pre>
</div>
</div>
<div id="cell-75" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="va">lc</span><span class="op">:=</span><span class="bu">List</span>(<span class="va">l</span><span class="op">,</span><span class="va">x</span><span class="op">-&gt;</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>[ 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256, 289, 324, 361, 400 ]</code></pre>
</div>
</div>
<div id="cell-76" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="va">lc</span>{[<span class="fl">20</span><span class="op">,</span><span class="fl">19</span><span class="op">..</span><span class="fl">10</span>]}<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>[ 400, 361, 324, 289, 256, 225, 196, 169, 144, 121, 100 ]</code></pre>
</div>
</div>
</section>
<section id="registros" class="level2">
<h2 class="anchored" data-anchor-id="registros">Registros</h2>
<p>En <code>gap</code> podemos crear registros con campos personalizados utilizando <code>rec</code>.</p>
<div id="cell-78" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">:=</span><span class="ex">rec</span>(<span class="va">a</span><span class="op">:=</span><span class="fl">1</span><span class="op">,</span><span class="va">b</span><span class="op">:=</span><span class="st">"2"</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>rec( a := 1, b := "2" )</code></pre>
</div>
</div>
<p>Podemos añadir nuevos campos, o modificar los existentes, simplemente asignándoles un valor.</p>
<div id="cell-80" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span>.<span class="va">c</span><span class="op">:=</span><span class="ex">rec</span>(<span class="va">d</span><span class="op">:=</span><span class="fl">1</span><span class="op">,</span><span class="va">e</span><span class="op">:=</span><span class="fl">3</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>rec( d := 1, e := 3 )</code></pre>
</div>
</div>
<div id="cell-81" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>rec( a := 1, b := "2", c := rec( d := 1, e := 3 ) )</code></pre>
</div>
</div>
<div id="cell-82" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span>.<span class="va">a</span><span class="op">:=</span><span class="fl">5</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>5</code></pre>
</div>
</div>
<div id="cell-83" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>rec( a := 5, b := "2", c := rec( d := 1, e := 3 ) )</code></pre>
</div>
</div>
<p>Para acceder al valor de un campo, utilizamos <code>.</code>.</p>
<div id="cell-85" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span>.<span class="va">c</span>.<span class="va">d</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>1</code></pre>
</div>
</div>
<p>Podemos ver los campos definidos con <code>RecNames</code>.</p>
<div id="cell-87" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="bu">RecNames</span>(<span class="va">r</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>[ "b", "a", "c" ]</code></pre>
</div>
</div>
<p>O ver si un campo está asignado o no</p>
<div id="cell-89" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="bu">IsBound</span>(<span class="va">r</span>.<span class="va">g</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>false</code></pre>
</div>
</div>
<div id="cell-90" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Unbind</span>(<span class="va">r</span>.<span class="va">b</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-91" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>rec( a := 5, c := rec( d := 1, e := 3 ) )</code></pre>
</div>
</div>
<p>Al igual que en listas, si queremos hacer una copia, es recomendable utilizar <code>ShallowCopy</code>.</p>
<div id="cell-93" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="va">rr</span><span class="op">:=</span><span class="bu">ShallowCopy</span>(<span class="va">r</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>rec( a := 5, c := rec( d := 1, e := 3 ) )</code></pre>
</div>
</div>
<div id="cell-94" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="va">rr</span>.<span class="va">c</span>.<span class="va">d</span><span class="op">:=</span><span class="fl">4</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>4</code></pre>
</div>
</div>
<div id="cell-95" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>rec( a := 5, c := rec( d := 4, e := 3 ) )</code></pre>
</div>
</div>
<p>El problema aquí es que <code>r</code> contiene a su vez otro registro. Para evitar esto, utilizamos <code>StructuralCopy</code>.</p>
<div id="cell-97" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="va">rr</span><span class="op">:=</span><span class="bu">StructuralCopy</span>(<span class="va">r</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>rec( a := 5, c := rec( d := 4, e := 3 ) )</code></pre>
</div>
</div>
<div id="cell-98" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="va">rr</span>.<span class="va">c</span>.<span class="va">d</span><span class="op">:=</span><span class="fl">1</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>1</code></pre>
</div>
</div>
<div id="cell-99" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="va">r</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>rec( a := 5, c := rec( d := 4, e := 3 ) )</code></pre>
</div>
</div>
<div id="cell-100" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="va">rr</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>rec( a := 5, c := rec( d := 1, e := 3 ) )</code></pre>
</div>
</div>
</section>
</section>
<section id="algunos-ejemplos-de-programación" class="level1">
<h1>Algunos ejemplos de programación</h1>
<p>En <code>gap</code> se pueden utilizar comandos como <code>for</code>, <code>while</code>, <code>repeat</code> .. <code>until</code> para hacer bucles.</p>
<p>Veamos cómo definir el factorial de distintas formas, utilizando distintos estilos de implementación.</p>
<div id="cell-102" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">x</span>)</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">local</span> <span class="va">p</span><span class="op">,</span> <span class="va">i</span><span class="op">;</span> #<span class="co">variable local para el producto parcial y contador</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">p</span><span class="op">:=</span><span class="fl">1</span><span class="op">;</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [<span class="fl">1</span><span class="op">..</span><span class="va">x</span>] <span class="cf">do</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">p</span><span class="op">:=</span><span class="va">p</span><span class="op">*</span><span class="va">i</span><span class="op">;</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">od</span><span class="op">;</span> #<span class="co">final de bucle</span></span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">return</span> <span class="va">p</span><span class="op">;</span> #<span class="co">salida</span></span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<pre><code>function( x ) ... end</code></pre>
</div>
</div>
<div id="cell-103" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span>(<span class="fl">3</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>6</code></pre>
</div>
</div>
<p>De forma recursiva…</p>
<div id="cell-105" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">x</span>)</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="va">x</span><span class="op">=</span><span class="fl">0</span> <span class="cf">then</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">return</span> <span class="fl">1</span><span class="op">;</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">return</span> <span class="va">x</span><span class="op">*</span><span class="va">f</span>(<span class="va">x</span><span class="op">-</span><span class="fl">1</span>)<span class="op">;</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<pre><code>function( x ) ... end</code></pre>
</div>
</div>
<div id="cell-106" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span>(<span class="fl">100</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<pre><code>93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000</code></pre>
</div>
</div>
<p>Usando funciones específicas de listas y <span class="math inline">\(\lambda\)</span>-expresiones …</p>
<div id="cell-108" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span><span class="op">:=</span><span class="va">x</span><span class="op">-&gt;</span><span class="bu">Product</span>([<span class="fl">1</span><span class="op">..</span><span class="va">x</span>])<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<pre><code>function( x ) ... end</code></pre>
</div>
</div>
<div id="cell-109" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="va">f</span>(<span class="fl">150</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>57133839564458545904789328652610540031895535786011264182548375833179829124845398393126574488675311145377107878746854204162666250198684504466355949195922066574942592095735778929325357290444962472405416790722118445437122269675520000000000000000000000000000000000000</code></pre>
</div>
</div>
<p>Calculamos ahora el primer entero perfecto y los enteros perfectos entre 1 y 100000. Para ello usaremos <code>First</code>.</p>
<div id="cell-111" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="va">es_perfecto</span><span class="op">:=</span><span class="va">x</span><span class="op">-&gt;</span>(<span class="bu">Sum</span>(<span class="bu">DivisorsInt</span>(<span class="va">x</span>))<span class="op">=</span><span class="fl">2</span><span class="op">*</span><span class="va">x</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>function( x ) ... end</code></pre>
</div>
</div>
<div id="cell-112" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="bu">First</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">200</span>]<span class="op">,</span><span class="va">es_perfecto</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>6</code></pre>
</div>
</div>
<div id="cell-113" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Filtered</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">1000</span>]<span class="op">,</span><span class="va">es_perfecto</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>[ 6, 28, 496 ]</code></pre>
</div>
</div>
<p>Veamos si todos los números entre 100 y 500 son perfectos, o si hay alguno.</p>
<div id="cell-115" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="bu">ForAll</span>([<span class="fl">100</span><span class="op">..</span><span class="fl">500</span>]<span class="op">,</span> <span class="va">es_perfecto</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>false</code></pre>
</div>
</div>
<div id="cell-116" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="bu">ForAny</span>([<span class="fl">100</span><span class="op">..</span><span class="fl">500</span>]<span class="op">,</span> <span class="va">es_perfecto</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>true</code></pre>
</div>
</div>
<p>Hacemos algo parecido con los pares de números amigos.</p>
<div id="cell-118" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="va">son_amigos</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">x</span><span class="op">,</span><span class="va">y</span>)</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">local</span> <span class="va">dx</span><span class="op">,</span> <span class="va">dy</span><span class="op">;</span> #<span class="co">divisores de x e y</span></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="va">x</span><span class="op">=</span><span class="va">y</span> <span class="cn">or</span> <span class="bu">IsPrime</span>(<span class="va">x</span>) <span class="cf">then</span> </span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">return</span> <span class="cn">false</span><span class="op">;</span></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">fi</span><span class="op">;</span> #<span class="co">queremos buscar parejas distintas y que no sean primos</span></span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">dx</span><span class="op">:=</span><span class="bu">List</span>(<span class="bu">DivisorsInt</span>(<span class="va">x</span>))<span class="op">;</span> </span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">Remove</span>(<span class="va">dx</span>)<span class="op">;;</span> #<span class="co">le quitamos x</span></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">dy</span><span class="op">:=</span><span class="bu">List</span>(<span class="bu">DivisorsInt</span>(<span class="va">y</span>))<span class="op">;</span></span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">Remove</span>(<span class="va">dy</span>)<span class="op">;;</span> #<span class="co">le quitamos y</span></span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">return</span> (<span class="bu">Sum</span>(<span class="va">dx</span>)<span class="op">=</span><span class="va">y</span>) <span class="cn">and</span> (<span class="va">x</span><span class="op">=</span><span class="bu">Sum</span>(<span class="va">dy</span>))<span class="op">;</span></span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="92">
<pre><code>function( x, y ) ... end</code></pre>
</div>
</div>
<p>Para ver qué números entre 1 y 50 tienen amigos, escribimos, por ejemplo, lo siguiente.</p>
<div id="cell-120" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span><span class="bu">Filtered</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">250</span>]<span class="op">,</span><span class="va">x</span><span class="op">-&gt;</span><span class="bu">ForAny</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">500</span>]<span class="op">,</span><span class="va">y</span><span class="op">-&gt;</span><span class="va">son_amigos</span>(<span class="va">x</span><span class="op">,</span><span class="va">y</span>)))<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="93">
<pre><code>[ 220 ]</code></pre>
</div>
</div>
<div id="cell-121" class="cell" data-scrolled="true" data-execution_count="95">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span>(<span class="va">l</span><span class="op">,</span><span class="va">x</span><span class="op">-&gt;</span>[<span class="va">x</span><span class="op">,</span><span class="bu">First</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">550</span>]<span class="op">,</span><span class="va">y</span><span class="op">-&gt;</span><span class="va">son_amigos</span>(<span class="va">x</span><span class="op">,</span><span class="va">y</span>))])<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>[ [ 220, 284 ] ]</code></pre>
</div>
</div>
<p>Si queremos buscar en una lista más grande, podemos usar iteradores.</p>
<div id="cell-123" class="cell" data-scrolled="true" data-execution_count="102">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span><span class="va">IteratorOfCartesianProduct</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">1500</span>]<span class="op">,</span>[<span class="fl">1</span><span class="op">..</span><span class="fl">1500</span>])<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>&lt;object&gt;</code></pre>
</div>
</div>
<div id="cell-124" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode gap code-with-copy"><code class="sourceCode gap"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="va">x</span> <span class="ex">in</span> <span class="va">l</span> <span class="cf">do</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="va">x</span>[<span class="fl">1</span>]<span class="op">&lt;</span><span class="va">x</span>[<span class="fl">2</span>]) <span class="cn">and</span> <span class="va">son_amigos</span>(<span class="va">x</span>[<span class="fl">1</span>]<span class="op">,</span><span class="va">x</span>[<span class="fl">2</span>]) <span class="cf">then</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Print</span>(<span class="va">x</span><span class="op">,</span><span class="st">"\n"</span>)<span class="op">;</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[ 220, 284 ]
[ 1184, 1210 ]</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/pedritomelenas\.github\.io\/Software-Matematicas-GAP\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/pedritomelenas/Software-Matematicas-GAP/issues" class="toc-action"><i class="bi bi-github"></i>Informar de un problema</a></li></ul></div></div></div></footer></body></html>